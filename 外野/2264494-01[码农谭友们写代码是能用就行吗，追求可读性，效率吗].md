
*****

####  御众师  
##### 1#       楼主       发表于 2025-10-15 10:58

.cronclosethread_getbox{border: 1px dashed #FF9A9A;padding:6px 8px;line-height: 24px;margin: 10px 0;font-size: 12px;overflow:hidden;color: #CA4312;}

此帖将于2025-11-14 10:57自动关闭

现在的技术组长有代码洁癖，小于十个元素的数组查找也一定要用二分法，不能用遍历。代码审核每次都指出一堆问题。虽然实际上功能已经能实现了。

*****

####  septem123  
##### 2#       发表于 2025-10-15 11:01

看人够不够  一个岗位配两个人  我肯定也这么干  

*****

####  chachi  
##### 3#       发表于 2025-10-15 11:01

领导说的对

----发送自 [samsung SM-S9180,Android 16](http://stage1.5j4m.com/?1.47)

*****

####  Xerxes_2  
##### 4#       发表于 2025-10-15 11:02

二分的前提是列表有序，有序列表的话各大语言标准库应该都有封装好的二分查函数

— from Google Pixel 10 Pro XL, Android 16, [S1 Next Goose](https://www.pgyer.com/GcUxKd4w) v3.5.99

*****

####  Xerxes_2  
##### 5#       发表于 2025-10-15 11:05

<blockquote><a href="httphttps://stage1st.com/2b/forum.php?mod=redirect&amp;goto=findpost&amp;pid=68573261&amp;ptid=2264494" target="_blank">Xerxes_2 发表于 2025-10-15 13:02</a>
二分的前提是列表有序，有序列表的话各大语言标准库应该都有封装好的二分查函数

— from Google Pixel 10  ...</blockquote>
更进一步的是，如果想要查询性能，是不是从一开始就应该用更高效的数据结构，比如红黑树，而非列表？

— from Google Pixel 10 Pro XL, Android 16, [S1 Next Goose](https://www.pgyer.com/GcUxKd4w) v3.5.99

*****

####  云卷花开  
##### 6#       发表于 2025-10-15 11:05

<img src="https://static.stage1st.com/image/smiley/face2017/009.gif" referrerpolicy="no-referrer">我也有代码洁癖，不过不是效率洁癖，是美观洁癖，每次闲下来看组员代码我就忍不住想改，太乱了

—— 来自 [鹅球](https://www.pgyer.com/GcUxKd4w) v3.3.96

*****

####  zxlice  
##### 7#       发表于 2025-10-15 11:08

我看不得组员代码，所以选择不看<img src="https://static.stage1st.com/image/smiley/face2017/068.png" referrerpolicy="no-referrer">

*****

####  扭曲怪  
##### 8#       发表于 2025-10-15 11:09

做得2B业务，我宁远牺牲效率也要保证可读性，不然一个迭代了4年、经过了好几个开发手的系统，做一个需求就被坑一次

*****

####  zack2012  
##### 9#       发表于 2025-10-15 11:09

这不是代码有洁癖，是吃饱了撑的，小于十个元素的数组二分法会比遍历查找快？

—— 来自 [鹅球](https://www.pgyer.com/xfPejhuq) v3.0.86-alpha

*****

####  zhang.stef  
##### 10#       发表于 2025-10-15 11:09

当然要追求，这是对未来的自己负责，对同事负责。
另外少于十个元素顺序查找还真不一定比二分法慢，取决于内存的局部性

*****

####  TKD53  
##### 11#       发表于 2025-10-15 11:11

让你组长自己封装工具类

*****

####  henvelleng  
##### 12#       发表于 2025-10-15 11:16

有代码洁癖，也肯定会追求可读性，但不怎么看执行效率，除非真遇到问题，实际上确实测试时遇到过几次严重的问题，比如读写plc寄存器的值，没用批量访问，一个一个去读写，结果一开始没问题，后来寄存器越来越多以后，就卡住了，一次访问用了30多秒，把我都看笑了

*****

####  NameLess2501  
##### 13#       发表于 2025-10-15 11:17

有个编程系列视频，一期的主题是「不要过早优化」，作者举了一个自己的例子「循环中应该用 i++ 还是 ++i」，他用了编译后反汇编观察汇编代码等分析到底哪个效率最高，分析的同时，画面左下角的一行小字一直在显示这个循环实时执行的次数，在他分析的这十几分钟够这个循环执行千万次了。

结论是他本可利用这些时间编写真正的业务相关代码，而这点优化就算有效也微不足道。

同一个系列的另一个视频提到了代码美观，他自称为不嵌套者，意为只能接受不大于3层的嵌套结构，再深就会爆炸。

*****

####  董卓  
##### 14#       发表于 2025-10-15 11:21

自己写的代码，我自己的要求是随时可以出书用

别人的代码，太细节的能过就过去算了

但是，类似和其他系统交互不写日志；取了数据库连接、网络流不关闭；拿个大数据量拼命循环往内存灌、不知道搞流式；要有线程安全性的东西乱写成员变量

类似这些是不会让他过去的

*****

####  断舍离  
##### 15#       发表于 2025-10-15 11:22

看写啥啊，写引擎的注重效率，写数开的关注核时，写算法的关注可读性

*****

####  御众师  
##### 16#         楼主| 发表于 2025-10-15 11:25

<blockquote>云卷花开 发表于 2025-10-15 11:05
我也有代码洁癖，不过不是效率洁癖，是美观洁癖，每次闲下来看组员代码我就忍不住想改，太乱了

—— 来自  ...</blockquote>
有效率洁癖肯定有美观洁癖啊，包括不限于变量命名规则，括号和缩进风格，长字符串断行风格……

*****

####  小野賢章  
##### 17#       发表于 2025-10-15 11:26

小于10个元素的查找这种场景，只要封装成函数就够了，里面用什么算法都差不多的。

组长review了代码，出了bug组长也有责任，还不如不看，出了问题是开发和测试的责任<img src="https://static.stage1st.com/image/smiley/face2017/067.png" referrerpolicy="no-referrer">

*****

####  Jet.Black  
##### 18#       发表于 2025-10-15 11:29

我好像记得有人证明过，6个还是8个对象以内遍历更快？

*****

####  lucifer123  
##### 19#       发表于 2025-10-15 11:29

有时间就搞这些，要是真的忙的时候这些根本没精力关注。

==

说白了就是可以用就行，好像你家里冰箱彩电，能用就行，你会关心里面发动机压缩机或者点机的走线是否规整吗？

只有会暴露在外面的东西才会做些美观之类的操作

*****

####  ymm1030  
##### 20#       发表于 2025-10-15 11:31

 本帖最后由 ymm1030 于 2025-10-15 11:32 编辑 

小于10个写二分的就是傻逼。代码可读性差的一批，效率还没提升，不懂有啥意义。好代码就是让人让自己能快速读懂的代码，在无意义的地方炫技就是在浪费大家的人生。

*****

####  植田佳奈  
##### 21#       发表于 2025-10-15 11:33

看这堆屎山是不是你维护，如果只维护一两年，当然效率为主。

*****

####  Prushka  
##### 22#       发表于 2025-10-15 11:33

注重可读性，除非你能保证代码只需要自己看

*****

####  213专用  
##### 23#       发表于 2025-10-15 11:33

一般而言可读性比效率更重要，除非效率非常差。

*****

####  a4ac7  
##### 24#       发表于 2025-10-15 11:36

<img src="https://static.stage1st.com/image/smiley/face2017/067.png" referrerpolicy="no-referrer">dart json转换时，前一个人造轮子不用pub上的插件，double转换都出错

隔壁不是在喊agi么，麻烦把史山代码给我解决一下

—— 来自 HUAWEI PLA-AL10, Android 12, [鹅球](https://www.pgyer.com/GcUxKd4w) v3.5.99

*****

####  tiro_finale  
##### 25#       发表于 2025-10-15 11:41

很在意效率，但不会在意每一段代码的效率
因为真正成为瓶颈的是很少一部分地方，大部分地方优化十倍都没P用

*****

####  kaminagi  
##### 26#       发表于 2025-10-15 11:46

是吗，那我用hashmap怎么说

—— 来自 Xiaomi 25019PNF3C, Android 16, [鹅球](https://www.pgyer.com/GcUxKd4w) v3.5.99

*****

####  featherwit  
##### 27#       发表于 2025-10-15 11:49

 本帖最后由 featherwit 于 2025-10-15 11:52 编辑 

咱也不说你是否做好的profiling知道瓶颈在哪里再去优化，因为有些人确实是出于经验和技术会在写代码的时候就保证了局部代码质量的。

但是小于10个元素的用二分法你确定效率会高？

*****

####  精钢魔像  
##### 28#       发表于 2025-10-15 11:51

那么小心眼小心30岁就秃顶

*****

####  henvelleng  
##### 29#       发表于 2025-10-15 11:52

很多时候，代码的问题是逻辑本身有问题，是经验问题。比如明明应该用状态机，非要弄一堆判断条件和锁，还到处复制；明明应该用viewmodel隔离界面元素，非要在类里加一堆乱七八糟成员

*****

####  huangqinquan  
##### 30#       发表于 2025-10-15 11:57

我最近刚好在学习一些理论,有句话我觉得很有道理.价值导向,坚持价值导向

说人话,就是这个事的价值在哪里.另外往往流程上的效率&gt;&gt;&gt;&gt;代码上的效率

*****

####  leystage  
##### 31#       发表于 2025-10-15 12:04

追求啊，审核提交请求的时候代码风格的问题一定会创建评论让作者修改后才批准，大家基本也都接受这个原则，否则代码会快速变得不可读（即使这样也只能降低变得不可读的速度）

不过也确实有人会觉得这是吹毛求疵不高兴，但那是他的问题

*****

####  南小鸭  
##### 32#       发表于 2025-10-15 12:06

现在不都转向vibe coding吗，能跑就行，至于写的啥，反正我也看不懂

*****

####  yvev  
##### 33#       发表于 2025-10-15 12:29

说明你们组长不懂硬件

*****

####  zxlice  
##### 34#       发表于 2025-10-15 12:34

<blockquote><a href="httphttps://stage1st.com/2b/forum.php?mod=redirect&amp;goto=findpost&amp;pid=68573228&amp;ptid=2264494" target="_blank">御众师 发表于 2025-10-15 10:58</a>
现在的技术组长有代码洁癖，小于十个元素的数组查找也一定要用二分法，不能用遍历。代码审核每次都指出一堆 ...</blockquote>
这种东西根本不如可读性，intention revealing interface这些规定有用

*****

####  zyuco  
##### 35#       发表于 2025-10-15 14:13

过早优化是万恶之源，可读性重要性不比效率低。才10个元素，倒不如说想要用二分的那个人自己要先论证二分的常数足够小，cache效率足够高

*****

####  AlphardAlSheya  
##### 36#       发表于 2025-10-15 14:25

不都是直接用标准库 sort 的吗，还有闲功夫管你排序算法用什么？

*****

####  卡修_Kasio  
##### 37#       发表于 2025-10-15 14:33

老生常谈的事情：软件和程序员，有一个能跑的就行。

我最近就在优化一个20年开发的程序，一个list用foreach检查了四五遍，循环里每一条item都要进行一次复杂的判定

这个功能是当时的外包写的，外包已经跑了

这个功能用了五年了，最近业务用的实在是太卡了，提了需求到我这里了

我看着头大

*****

####  格林达姆  
##### 38#       发表于 2025-10-15 15:22

<img src="https://static.stage1st.com/image/smiley/face2017/067.png" referrerpolicy="no-referrer">代码质量本身也看需求

如果只是临时起意要写个下载色图的脚本那随便问个AI能跑就行

如果是要搞个长期自用的工具来管理色图，那代码当然越干净越漂亮越好

*****

####  ytrfegd  
##### 39#       发表于 2025-10-15 15:38

vibe coding

写出来啥我基本都不看，所以可读性是什么样我也不知道。

*****

####  phorcys02  
##### 40#       发表于 2025-10-15 15:47

难道不是看项目性质么，月抛年抛的项目肯定怎么快怎么来

多年屎山或者要维护很多年的，还是得上心让它可读，至少不能塌自己手里


*****

####  redria  
##### 41#       发表于 2025-10-15 15:48

在现时点，一般情况下可读性优先。

从另一个角度来说，可读性优秀的代码，效率一般不低。

以现在设备的运行能力来说，常见的效率底下不是因为二分法，而是因为循环做了几遍，每遍里做一两件事情。

所以不仅效率低，到底做了哪些业务逻辑也容易遗漏，可读性不行。

*****

####  onezeron  
##### 42#       发表于 2025-10-15 15:53

面向老板编程


*****

####  zerocount  
##### 43#       发表于 2025-10-15 15:58

代码可读就是好！

为可读性而生！
<img src="https://static.stage1st.com/image/smiley/face2017/053.png" referrerpolicy="no-referrer">

右下角小字：可读性是我们的追求目标。<img src="https://static.stage1st.com/image/smiley/face2017/037.png" referrerpolicy="no-referrer">

﹍﹍﹍

评分

 参与人数 1战斗力 +1

|昵称|战斗力|理由|
|----|---|---|
| leystage| + 1|欢乐多|

查看全部评分


*****

####  nonononono  
##### 44#       发表于 2025-10-15 16:04

组长有要求自己封装查询，难不成组员每人造一遍轮子


*****

####  heerorelena  
##### 45#       发表于 2025-10-15 17:01

 本帖最后由 heerorelena 于 2025-10-15 17:02 编辑 

查询这种事，我只会两种写法：

1. 用SQL写

2. 用Linq写


*****

####  dkswxd  
##### 46#       发表于 2025-10-15 17:23

有可读性要求的都是大厂体面人，我们这能跑通就不错了，刚又给我插了个大功能需求，之前的任务计划时间不变

—— 来自 Xiaomi 22041211AC, Android 14, [鹅球](https://www.pgyer.com/GcUxKd4w) v3.5.99

*****

####  bad_alloc  
##### 47#       发表于 2025-10-15 17:26

水平有限，只能多写注释了<img src="https://static.stage1st.com/image/smiley/face2017/067.png" referrerpolicy="no-referrer">


*****

####  dkswxd  
##### 48#       发表于 2025-10-15 17:26

手头有一个4000个元素的数组就是遍历查的，写了个TODO说之后改成二分，领导告诉在perf record能采样到这个函数前不用改

—— 来自 Xiaomi 22041211AC, Android 14, [鹅球](https://www.pgyer.com/GcUxKd4w) v3.5.99


*****

####  哈尔路尼亚  
##### 49#       发表于 2025-10-15 18:24

可读性第一，以后优化是以后的kpi<img src="https://static.stage1st.com/image/smiley/face2017/009.gif" referrerpolicy="no-referrer">


*****

####  赛肯特布拉泽  
##### 50#       发表于 2025-10-15 18:27

在我这是：功能&gt;可扩展性&gt;可读性&gt;&gt;&gt;&gt;效率，效率这个东西只有没有让我感受出慢来我就不会主动去考虑，可读性可以靠注释来凑，但是没有可扩展性是真的头大，尤其是我们经常一个项目维护很多年，有很多最初没有想到的需要会增加


*****

####  精钢魔像  
##### 51#       发表于 2025-10-15 18:46

<blockquote><a href="httphttps://stage1st.com/2b/forum.php?mod=redirect&amp;goto=findpost&amp;pid=68575539&amp;ptid=2264494" target="_blank">bad_alloc 发表于 2025-10-15 17:26</a>

水平有限，只能多写注释了</blockquote>
如果工具支持，可以说服同事用中文编程。

代码即文档，连注释都不用。


*****

####  icewolf01  
##### 52#       发表于 2025-10-15 18:59

看写什么东西，写PC的和写stm32的，对执行效率的重视程度肯定不一样


*****

####  tylunas  
##### 53#       发表于 2025-10-15 19:02

可读性确实重要，已经出现自己看自己三五年前的代码快看不懂的情况了。


*****

####  overflowal  
##### 54#       发表于 2025-10-15 19:12

不是，你二分首先要有序啊，你那是有序的？

—— 来自 [鹅球](https://www.pgyer.com/GcUxKd4w) v3.4.97


*****

####  skill  
##### 55#       发表于 2025-10-15 19:42

我自己要维护的代码肯定要可读性啊。当然要是不用我维护，那就随便了。另外现在cursor agent写的我也维护不了

—— 来自 Xiaomi 24129PN74C, Android 15, [鹅球](https://www.pgyer.com/GcUxKd4w) v3.5.99


*****

####  紧那罗  
##### 56#       发表于 2025-10-15 19:44

&gt; 代码审核每次都指出一堆问题。虽然实际上功能已经能实现了。

以我的经验来说，如果有人给你指出一堆问题，而你也反驳不了，那多半是你写的真的有问题。

你以为你造了辆车，问题只是车子没上漆。可能在别人看来，这车轮胎都是方的。


*****

####  bronzitro  
##### 57#       发表于 2025-10-15 20:08

具体问题具体分析。不到十个元素，别是测试时只有十个元素，实际跑起来越来越多。

*****

####  mwj  
##### 58#       发表于 2025-10-15 20:12

没有封装个二分查找的函数吗，每次都得现写一次二分搜索？


*****

####  此用户不存在  
##### 59#       发表于 2025-10-15 20:22

这种东西难道不是用库函数吗

我写代码一般都崇尚简单易懂

另外最讨厌嵌套，一层套一层搁这套娃呢

*****

####  CCauchy  
##### 60#       发表于 2025-10-15 20:23

有的，追求不可读性，全部浓缩一行，全部用语法糖替换，能用元编程尽量用元编程

[论坛助手,iPhone](https://stage1st.com/2b/forum.php?mod=viewthread&amp;tid=2029836)


*****

####  棍机凹升龙  
##### 61#       发表于 2025-10-15 20:25

组长是傻逼，不懂抓大放小

*****

####  子虚乌有  
##### 62#       发表于 2025-10-15 20:28

数组元素查找不应该用api么。还自己写？


*****

####  jkphni  
##### 63#       发表于 2025-10-15 20:31

很多时候业务系统和业务代码开发，性能更多是跟着表设计和sql走。并发啊，其他性能瓶颈还是跟着框架和基础库了。

—— 来自 nubia NX713J, Android 14, [鹅球](https://www.pgyer.com/xfPejhuq) v3.5.99-alpha


*****

####  kinemato  
##### 64#       发表于 2025-10-15 20:42

“代码写出来供人阅读，偶尔交给机器执行”


*****

####  agathah  
##### 65#       发表于 2025-10-15 20:56

我是专门做gpu性能优化的，但是通常叫我review时我只会看他结果对不对，对了先merge进去。性能不够用了我专门给这段代码优化，别人半吊子的优化最后还得我来擦屁股，还不如自己上手。

—— 来自 Xiaomi 23127PN0CC, Android 15, [鹅球](https://www.pgyer.com/GcUxKd4w) v3.5.99


*****

####  shlity  
##### 66#       发表于 2025-10-15 21:13

有代码洁癖，看到写成一坨晦涩难懂的东西会浑身难受，不过我善于和自己和解，所以虽然平时强调要写的简单易懂要考虑后续其它人怎样接手的问题，最终结果是完成个任务能跑就行。


*****

####  perfect_duck  
##### 67#       发表于 2025-10-15 21:25

二分这种东西难道不应该有现场的库吗？

你可以不在乎，但大厂真的认 coding style，面试里 coding style 不行直接默认你水平不行，问就是服从性测试


*****

####  ohi.02  
##### 68#       发表于 2025-10-15 21:48

 本帖最后由 ohi.02 于 2025-10-15 21:50 编辑 

我们这边是代码可读性优先，会有自动化工具捕捉消耗高的模块，然后生成单子转给相关人员进行处理，特别复杂的也有专家来做针对性的优化。实际上大部分业务代码都不需要担心性能，循环套循环的情况定期profile就能发现问题，真有高性能消耗的一般都会封装起来，或者改为多线程或者加throttle处理，不管怎样还是要兼顾可读性。

—— 来自 [S1Fun](https://s1fun.koalcat.com)


*****

####  zonker  
##### 69#       发表于 2025-10-15 21:59

怎么写取决于这个工程本身质量如何，如果目前还很好，那就尽量维持住。如果已经是屎山了，那不写bug就已经竭尽全力了。


*****

####  zy450  
##### 70#       发表于 2025-10-15 22:03

知道了，这就给AI规则加上注意可读性、可维护性

*****

####  拜拜  
##### 71#       发表于 2025-10-15 22:07

<blockquote><a href="httphttps://stage1st.com/2b/forum.php?mod=redirect&amp;goto=findpost&amp;pid=68573288&amp;ptid=2264494" target="_blank">云卷花开 发表于 2025-10-15 11:05</a>
我也有代码洁癖，不过不是效率洁癖，是美观洁癖，每次闲下来看组员代码我就忍不住想改，太乱了

—— 来自  ...</blockquote>
没用pretty吗

—— 来自 Hisense HNR320T, Android 10, [鹅球](https://www.pgyer.com/xfPejhuq) v3.5.99-alpha


*****

####  orangee  
##### 72#       发表于 2025-10-15 22:25

保持代码的垃圾程度和业务的SB程度相匹配就好了<img src="https://static.stage1st.com/image/smiley/face2017/044.png" referrerpolicy="no-referrer">


*****

####  eblis2  
##### 73#       发表于 2025-10-15 22:52

<blockquote><a href="httphttps://stage1st.com/2b/forum.php?mod=redirect&amp;goto=findpost&amp;pid=68573512&amp;ptid=2264494" target="_blank">Prushka 发表于 2025-10-15 11:33</a>

注重可读性，除非你能保证代码只需要自己看</blockquote>
就算是自己看 隔个半年回来看 可能还是会有点懵


*****

####  碧池团团子  
##### 74#       发表于 2025-10-15 23:03

来人，给公子上语法糖，等楼主见屎山代码祖传代码见多了就不会这么说了<img src="https://static.stage1st.com/image/smiley/face2017/072.png" referrerpolicy="no-referrer">


*****

####  CCauchy  
##### 75#       发表于 2025-10-15 23:39

<img src="https://img.stage1st.com/forum/202510/15/233931a5ol44vsmiiszv4a.png" referrerpolicy="no-referrer">

<strong>图片.png</strong> (110.02 KB, 下载次数: 0)

下载附件

2025-10-15 23:39 上传

糖来！快速排序


*****

####  tk553521  
##### 76#       发表于 2025-10-16 00:15

别问，问就是屎山加屎，面向工位编程。
我写的代码要给同事接手我去干别的，同事做了两天直接求爷爷告奶奶把我拉回来表示他不敢改<img src="https://static.stage1st.com/image/smiley/face2017/067.png" referrerpolicy="no-referrer">

—— 来自 Sony XQ-AT72, Android 12, [鹅球](https://www.pgyer.com/xfPejhuq) v3.5.99-alpha


*****

####  kouym  
##### 77#       发表于 2025-10-16 00:44

有一说一 假如你们是统一要求的话 直接封装好大家一起用不就好了


*****

####  wohappy  
##### 78#       发表于 2025-10-16 01:39

可维护性才是最重要的，尤其ToB的业务系统

—— 来自 vivo V2301A, Android 15, [鹅球](https://www.pgyer.com/xfPejhuq) v3.5.99-alpha


*****

####  天地猫MKII  
##### 79#       发表于 2025-10-16 11:49

看项目，看工期，时间长，工期长，没有KPI考核做精致点没问题，大部分都是面向老板，面向客户编程，一个活没完下个活就来了，那就老实点先效率为准，毕竟做不完的事，加不完的班啊。


*****

####  Betalo  
##### 80#       发表于 2025-10-16 12:44

KISS
DRY
SOLID
YAGNI

